(this["webpackJsonphear-me"]=this["webpackJsonphear-me"]||[]).push([[0],{34:function(e,t,a){e.exports=a(62)},62:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(11),i=a.n(l),s=a(17),r=a(4),c=(a(39),a(12)),u=a(13),m=a(15),p=a(14),d=(n.Component,a(18)),v=a.n(d),h=a(10),E=a(16),b=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onSubmit=n.onSubmit.bind(Object(h.a)(n)),n.openModal=n.openModal.bind(Object(h.a)(n)),n.closeModal=n.closeModal.bind(Object(h.a)(n)),n.onChangeStreet=n.onChangeStreet.bind(Object(h.a)(n)),n.onChangeCity=n.onChangeCity.bind(Object(h.a)(n)),n.onChangeState=n.onChangeState.bind(Object(h.a)(n)),n.findRepresentatives=n.findRepresentatives.bind(Object(h.a)(n)),n.state={name:"",mailToSubject:"",mailToBody:"",aboutTheCause:"",timesSupported:0,isModalOpen:!1,street:"",city:"",state:"AL",mailToLink:"",submitClass:"invisible"},n}return Object(u.a)(a,[{key:"onChangeStreet",value:function(e){this.setState({street:e.target.value})}},{key:"onChangeCity",value:function(e){this.setState({city:e.target.value})}},{key:"onChangeState",value:function(e){this.setState({state:e.target.value})}},{key:"toggleSubmit",value:function(e){e?this.setState({submitClass:"btn btn-success btn-lg btn-block"}):this.setState({submitClass:"invisible"})}},{key:"findRepresentatives",value:function(){var e=this;console.log("finding reps");var t=new XMLHttpRequest,a=this.state.street+" "+this.state.city+" "+this.state.state,n="https://www.googleapis.com/civicinfo/v2/representatives?includeOffices=true&levels=administrativeArea1&roles=legislatorLowerBody&roles=legislatorUpperBody&address="+encodeURIComponent(a)+"&key=AIzaSyAd9ET0aNrBcM1WbHmWOr7ZhQ0sYOPUtwk",o=[];t.open("GET",n),t.send(),t.onreadystatechange=function(a){if(t.readyState===XMLHttpRequest.DONE&&200===t.status){var n=JSON.parse(t.responseText).officials;if(n){if(n.forEach((function(e){o.push(e.emails[0])})),o){for(var l="mailto:",i=0;i<o.length;i++)l+=o[i],i<o.length&&(l+=";");l=(l=l+"?subject="+encodeURIComponent(e.state.mailToSubject))+"&body="+encodeURIComponent(e.state.mailToBody),e.setState({mailToLink:l}),e.toggleSubmit(!0)}}else e.toggleSubmit(!1),alert("No representatives found at that address.")}else 400===t.status&&(e.toggleSubmit(!1),alert("Could not get representatives for the address."))}}},{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:5000/causes/"+this.props.causeId).then((function(t){t.data?e.setState({name:t.data.name,mailToSubject:t.data.mailToSubject,mailToBody:t.data.mailToBody,aboutTheCause:t.data.aboutTheCause,timesSupported:t.data.timesSupported}):(e.setState({name:"This cause was not found"}),console.log("Requested item not found..."))}))}},{key:"onSubmit",value:function(e){e.preventDefault()}},{key:"openModal",value:function(){this.setState({isModalOpen:!0})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",null,this.state.name),o.a.createElement("p",null,this.state.aboutTheCause),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary",onClick:this.openModal},"Support This Cause"),o.a.createElement(E.a,{show:this.state.isModalOpen},o.a.createElement(E.a.Header,null,"Tell Your Representatives You Support ",this.state.name),o.a.createElement(E.a.Body,null,o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"street_id",className:"control-label"},"Street Address"),o.a.createElement("input",{type:"text",value:this.state.street,className:"form-control",id:"street_id",name:"street",onChange:this.onChangeStreet,placeholder:"123 Main Street"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"city_id",className:"control-label"},"City"),o.a.createElement("input",{type:"text",value:this.state.city,className:"form-control",id:"city_id",name:"city",onChange:this.onChangeCity,placeholder:"Smallville"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"state_id",className:"control-label"},"State"),o.a.createElement("select",{value:this.state.state,className:"form-control",onChange:this.onChangeState,id:"state_id"},o.a.createElement("option",{value:"AL"},"Alabama"),o.a.createElement("option",{value:"AK"},"Alaska"),o.a.createElement("option",{value:"AZ"},"Arizona"),o.a.createElement("option",{value:"AR"},"Arkansas"),o.a.createElement("option",{value:"CA"},"California"),o.a.createElement("option",{value:"CO"},"Colorado"),o.a.createElement("option",{value:"CT"},"Connecticut"),o.a.createElement("option",{value:"DE"},"Delaware"),o.a.createElement("option",{value:"DC"},"District Of Columbia"),o.a.createElement("option",{value:"FL"},"Florida"),o.a.createElement("option",{value:"GA"},"Georgia"),o.a.createElement("option",{value:"HI"},"Hawaii"),o.a.createElement("option",{value:"ID"},"Idaho"),o.a.createElement("option",{value:"IL"},"Illinois"),o.a.createElement("option",{value:"IN"},"Indiana"),o.a.createElement("option",{value:"IA"},"Iowa"),o.a.createElement("option",{value:"KS"},"Kansas"),o.a.createElement("option",{value:"KY"},"Kentucky"),o.a.createElement("option",{value:"LA"},"Louisiana"),o.a.createElement("option",{value:"ME"},"Maine"),o.a.createElement("option",{value:"MD"},"Maryland"),o.a.createElement("option",{value:"MA"},"Massachusetts"),o.a.createElement("option",{value:"MI"},"Michigan"),o.a.createElement("option",{value:"MN"},"Minnesota"),o.a.createElement("option",{value:"MS"},"Mississippi"),o.a.createElement("option",{value:"MO"},"Missouri"),o.a.createElement("option",{value:"MT"},"Montana"),o.a.createElement("option",{value:"NE"},"Nebraska"),o.a.createElement("option",{value:"NV"},"Nevada"),o.a.createElement("option",{value:"NH"},"New Hampshire"),o.a.createElement("option",{value:"NJ"},"New Jersey"),o.a.createElement("option",{value:"NM"},"New Mexico"),o.a.createElement("option",{value:"NY"},"New York"),o.a.createElement("option",{value:"NC"},"North Carolina"),o.a.createElement("option",{value:"ND"},"North Dakota"),o.a.createElement("option",{value:"OH"},"Ohio"),o.a.createElement("option",{value:"OK"},"Oklahoma"),o.a.createElement("option",{value:"OR"},"Oregon"),o.a.createElement("option",{value:"PA"},"Pennsylvania"),o.a.createElement("option",{value:"RI"},"Rhode Island"),o.a.createElement("option",{value:"SC"},"South Carolina"),o.a.createElement("option",{value:"SD"},"South Dakota"),o.a.createElement("option",{value:"TN"},"Tennessee"),o.a.createElement("option",{value:"TX"},"Texas"),o.a.createElement("option",{value:"UT"},"Utah"),o.a.createElement("option",{value:"VT"},"Vermont"),o.a.createElement("option",{value:"VA"},"Virginia"),o.a.createElement("option",{value:"WA"},"Washington"),o.a.createElement("option",{value:"WV"},"West Virginia"),o.a.createElement("option",{value:"WI"},"Wisconsin"),o.a.createElement("option",{value:"WY"},"Wyoming"))))),o.a.createElement(E.a.Footer,null,o.a.createElement("a",{href:this.state.mailToLink,className:this.state.submitClass,role:"button"},"Be Heard"),o.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block",onClick:this.findRepresentatives},"Find My Representatives"),o.a.createElement("button",{className:"btn btn-secondary btn-sm btn-block",onClick:this.closeModal},"Cancel")))))}}]),a}(n.Component),g=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={causeIds:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:5000/causes").then((function(t){console.log(t),t.data.length>0&&e.setState({causeIds:t.data.map((function(e){return e._id}))})}))}},{key:"causesList",value:function(){return this.state.causeIds.map((function(e){return o.a.createElement("li",{className:"list-group-item"},o.a.createElement(b,{causeId:e}))}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Fight for Change"),o.a.createElement("ul",{className:"list-group"},this.causesList()))}}]),a}(n.Component);var f=function(){return o.a.createElement(s.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("br",null),o.a.createElement(r.a,{path:"/",exact:!0,component:g})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.8c113cef.chunk.js.map